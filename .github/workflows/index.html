<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dice isnt it</title>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0f0f1e 100%);
    color: #fff;
    overflow-x: hidden;
    padding: 20px; /* add some padding so container doesn't touch edges */
}

    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at 20% 50%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                    radial-gradient(circle at 80% 80%, rgba(255, 0, 128, 0.1) 0%, transparent 50%);
        pointer-events: none;
        animation: bgShift 15s ease-in-out infinite;
        z-index: -1;
    }

    @keyframes bgShift {
        0%, 100% { filter: brightness(1); }
        50% { filter: brightness(1.1); }
    }

    .container {
    max-width: 700px;
    width: 100%; /* ensures container shrinks on small screens */
    max-height: 100%; /* remove the 90vh restriction */
    padding: 20px; /* reduce padding for smaller devices */
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    justify-content: center; /* vertical centering */
    text-align: center;
}
    /* Mobile responsiveness */
    @media (max-width: 768px) {
        h1 { font-size: 2rem; }
        .subtitle { font-size: 0.8rem; }
        .button-group button { font-size: 1rem; padding: 12px 25px; min-width: 120px; }
        #dice { width: 120px; height: 120px; font-size: 3rem; }
        .stats { grid-template-columns: 1fr 1fr; gap: 10px; padding: 15px; }
    }

    @media (max-width: 480px) {
        h1 { font-size: 1.5rem; }
        .subtitle { font-size: 0.7rem; }
        .button-group button { padding: 10px 20px; font-size: 0.9rem; }
        #dice { width: 100px; height: 100px; font-size: 2.5rem; }
        .stats { grid-template-columns: 1fr; gap: 8px; padding: 10px; }
    }
    @media (max-width: 480px) {
        .container {
            padding: 15px; /* reduce padding */
        }
    }
    @keyframes containerPulse {
        0%, 100% { box-shadow: 0 0 30px rgba(0, 255, 255, 0.3), inset 0 0 20px rgba(0, 255, 255, 0.1); }
        50% { box-shadow: 0 0 50px rgba(0, 255, 255, 0.5), inset 0 0 30px rgba(0, 255, 255, 0.2); }
    }

    .menu {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
    }

    .game-view {
        display: none;
    }

    .leaderboard-view {
        display: none;
    }

    .credits-view {
        display: none;
    }

    h1 {
        font-size: 3rem;
        margin-bottom: 10px;
        text-shadow: 0 0 20px cyan, 0 0 40px #00ffff;
        animation: titleGlow 2s ease-in-out infinite;
    }

    @keyframes titleGlow {
        0%, 100% { text-shadow: 0 0 20px cyan, 0 0 40px #00ffff; }
        50% { text-shadow: 0 0 30px cyan, 0 0 60px #00ffff, 0 0 80px #0088ff; }
    }

    .subtitle {
        color: #00ffff;
        margin-bottom: 30px;
        font-size: 0.9rem;
        letter-spacing: 2px;
    }

    .button-group {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin: 20px 0;
        flex-wrap: wrap;
        width: 100%;
    }

    button {
        padding: 15px 35px;
        font-size: 1.1rem;
        border: 2px solid #00ffff;
        border-radius: 10px;
        background: linear-gradient(135deg, #00ffff 0%, #00aa88 100%);
        color: #000;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        flex: 1;
        min-width: 150px;
    }

    button:hover {
        transform: scale(1.05);
        box-shadow: 0 0 30px rgba(0, 255, 255, 0.6), 0 0 50px rgba(0, 255, 255, 0.3);
        background: linear-gradient(135deg, #00ffff 0%, #00ff88 100%);
    }

    button:active {
        transform: scale(0.95);
    }

    button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .stats {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 15px;
        margin: 20px 0;
        padding: 20px;
        background: rgba(0, 50, 100, 0.3);
        border-radius: 15px;
        border: 2px solid #00ffff;
    }

    .stat-box {
        padding: 15px;
        background: rgba(0, 100, 150, 0.2);
        border-radius: 10px;
        border: 1px solid #0099ff;
        animation: statBounce 2s ease-in-out infinite;
    }

    .stat-box:nth-child(1) { animation-delay: 0s; }
    .stat-box:nth-child(2) { animation-delay: 0.2s; }
    .stat-box:nth-child(3) { animation-delay: 0.4s; }

    @keyframes statBounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-5px); }
    }

    .stat-label {
        font-size: 0.8rem;
        color: #00ccff;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .stat-value {
        font-size: 1.8rem;
        font-weight: bold;
        color: #00ff88;
        text-shadow: 0 0 10px #00ff88;
    }

    .dice-container {
        margin: 30px 0;
        perspective: 1000px;
    }

    #dice {
        width: 150px;
        height: 150px;
        border-radius: 20px;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 4rem;
        margin: 0 auto;
        border: 5px solid #00ffff;
        transition: transform 0.3s ease;
        box-shadow: 0 0 30px rgba(0, 255, 255, 0.4), inset 0 0 20px rgba(0, 255, 255, 0.1);
        cursor: pointer;
    }

    .rolling {
        animation: spin3d 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    @keyframes spin3d {
        0% { transform: rotateX(0) rotateY(0) rotateZ(0) scale(1); }
        25% { transform: rotateX(180deg) rotateY(90deg) rotateZ(45deg) scale(1.1); }
        50% { transform: rotateX(360deg) rotateY(180deg) rotateZ(90deg) scale(1.1); }
        75% { transform: rotateX(540deg) rotateY(270deg) rotateZ(135deg) scale(1.1); }
        100% { transform: rotateX(720deg) rotateY(360deg) rotateZ(180deg) scale(1); }
    }

    #result {
        font-size: 2rem;
        margin-top: 20px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-shadow: 0 0 15px #00ffff;
        animation: resultPop 0.5s ease-out;
    }

    @keyframes resultPop {
        0% { transform: scale(0.5); opacity: 0; }
        100% { transform: scale(1); opacity: 1; }
    }

    .dialogue {
        margin-top: 20px;
        font-size: 1rem;
        color: #ffaa00;
        min-height: 30px;
        animation: dialogueSlide 0.5s ease-out;
        font-style: italic;
    }

    @keyframes dialogueSlide {
        0% { opacity: 0; transform: translateY(-10px); }
        100% { opacity: 1; transform: translateY(0); }
    }

    .popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #00ffff 0%, #00aa88 100%);
        color: #000;
        padding: 30px;
        border-radius: 15px;
        font-size: 1.5rem;
        font-weight: bold;
        box-shadow: 0 0 50px rgba(0, 255, 255, 0.6);
        animation: popupBounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        z-index: 100;
    }

    @keyframes popupBounce {
        0% { transform: translate(-50%, -50%) scale(0); }
        50% { transform: translate(-50%, -50%) scale(1.1); }
        100% { transform: translate(-50%, -50%) scale(1); }
    }

    .streak {
        background: rgba(255, 170, 0, 0.2);
        padding: 10px;
        border-radius: 10px;
        margin-top: 15px;
        border: 2px solid #ffaa00;
        color: #ffaa00;
        text-shadow: 0 0 10px #ffaa00;
    }

    .leaderboard-table {
        width: 100%;
        margin: 20px 0;
        border-collapse: collapse;
    }

    .leaderboard-table thead {
        background: rgba(0, 150, 255, 0.3);
        border: 2px solid #00ffff;
    }

    .leaderboard-table th {
        padding: 12px;
        color: #00ffff;
        text-align: left;
        font-weight: bold;
    }

    .leaderboard-table td {
        padding: 12px;
        border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        background: rgba(0, 50, 100, 0.1);
    }

    .leaderboard-table tr:hover {
        background: rgba(0, 100, 150, 0.3);
    }

    .rank {
        color: #ffaa00;
        font-weight: bold;
        font-size: 1.2rem;
    }

    .rank.gold { color: #ffd700; }
    .rank.silver { color: #c0c0c0; }
    .rank.bronze { color: #cd7f32; }

    .username-input {
        width: 100%;
        padding: 12px;
        margin: 15px 0;
        border: 2px solid #00ffff;
        border-radius: 10px;
        background: rgba(0, 50, 100, 0.3);
        color: #00ffff;
        font-size: 1rem;
        text-align: center;
        font-weight: bold;
    }

    .username-input::placeholder {
        color: rgba(0, 255, 255, 0.5);
    }

    .credits-box {
        background: rgba(0, 100, 150, 0.2);
        padding: 20px;
        border-radius: 10px;
        border: 2px solid #ffaa00;
        margin: 20px 0;
        text-align: left;
    }

    .credits-box h3 {
        color: #ffaa00;
        margin-bottom: 10px;
        text-shadow: 0 0 10px #ffaa00;
    }

    .credits-box p {
        color: #00ffff;
        margin: 8px 0;
        font-size: 1rem;
    }

    audio {
        display: none;
    }

    .particle {
        position: fixed;
        pointer-events: none;
        font-size: 2rem;
        animation: float-up 1s ease-out forwards;
        z-index: 50;
    }

    @keyframes float-up {
        0% { opacity: 1; transform: translateY(0) translateX(0); }
        100% { opacity: 0; transform: translateY(-100px) translateX(var(--tx, 0px)); }
    }

    .back-btn {
        background: linear-gradient(135deg, #ff6b6b 0%, #ff4757 100%) !important;
        margin-top: 20px;
        width: 100%;
    }

    .back-btn:hover {
        background: linear-gradient(135deg, #ff8787 0%, #ff6b6b 100%) !important;
    }

    .label {
        color: #00ffff;
        margin-top: 15px;
        font-weight: bold;
    }

</style>
</head>
<body>
    <!-- Menu Screen -->
    <div class="container menu" id="menuView">
        <h1>üé≤ DICE ISNT ITüé≤</h1>
        <p class="subtitle">Test Your Luck & Skills</p>
        <div style="width: 100%;">
            <input type="text" class="username-input" id="usernameInput" placeholder="Enter Discord Username">
        </div>
        <div class="button-group" style="flex-direction: column;">
            <button id="startBtn">START GAME</button>
            <button id="leaderboardBtn">LEADERBOARD</button>
            <button id="creditsBtn">CREDITS</button>
        </div>
    </div>

    <!-- Game Screen -->
    <div class="container game-view" id="gameView">
        <h1>üé≤ DICE ISNT IT üé≤</h1>
        <p class="subtitle">Test Your Luck & Skills</p>

        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Wins</div>
                <div class="stat-value" id="wins">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Losses</div>
                <div class="stat-value" id="losses">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Streak</div>
                <div class="stat-value" id="streak">0</div>
            </div>
        </div>

        <div class="dice-container">
            <div id="dice">üé≤</div>
        </div>

        <div class="button-group">
            <button id="rollBtn">ROLL DICE</button>
            <button id="saveBtn">SAVE & EXIT</button>
        </div>

        <div id="result">Click ROLL to start!</div>
        <div class="streak" id="streakInfo" style="display: none;"></div>
        <div class="dialogue" id="dialogue"></div>
    </div>

    <!-- Leaderboard Screen -->
    <div class="container leaderboard-view" id="leaderboardView">
        <h1>üèÜ LEADERBOARD üèÜ</h1>
        <p class="subtitle">Top 10 Players</p>
        <table class="leaderboard-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Username</th>
                    <th>Wins</th>
                    <th>Losses</th>
                    <th>Streak</th>
                </tr>
            </thead>
            <tbody id="leaderboardBody">
            </tbody>
        </table>
        <button class="back-btn" id="backFromLeaderboardBtn">BACK</button>
    </div>

    <!-- Credits Screen -->
    <div class="container credits-view" id="creditsView">
        <h1>‚≠ê CREDITS ‚≠ê</h1>
        <div class="credits-box">
            <h3>üëë Main Coder</h3>
            <p>UREEDXD</p>

            <h3>üé® Supporter</h3>
            <p>IMAGINATOR</p>

            <h3>üéØ MLG Supporter</h3>
            <p>Noobda</p>
        </div>
        <div class="credits-box">
            <h3>Update</h3>
            <p>Background Music | Sound Effects | Particle Effects | Animations</p>
            <p>Full UI/UX Experience with Discord Integration Support</p>
        </div>
        <button class="back-btn" id="backFromCreditsBtn">BACK</button>
    </div>

    <!-- Sound Effects -->
    <audio id="rollSound" src="https://cdn.pixabay.com/download/audio/2023/03/03/audio_17a0db94f3.mp3?filename=dice-rolling-112941.mp3"></audio>
    <audio id="winSound" src="https://assets.mixkit.co/active_storage/sfx/2018/2018-preview.mp3"></audio>
    <audio id="lossSound" src="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"></audio>
    <audio id="clickSound" src="https://assets.mixkit.co/active_storage/sfx/2572/2572-preview.mp3"></audio>
    <audio id="bgMusic" loop src="https://foldr.space/d/Dice%20isnt%20it.mp3"></audio>

    <script>
        // DOM Elements
        const menuView = document.getElementById("menuView");
        const gameView = document.getElementById("gameView");
        const leaderboardView = document.getElementById("leaderboardView");
        const creditsView = document.getElementById("creditsView");

        const usernameInput = document.getElementById("usernameInput");
        const startBtn = document.getElementById("startBtn");
        const leaderboardBtn = document.getElementById("leaderboardBtn");
        const creditsBtn = document.getElementById("creditsBtn");
        const backFromLeaderboardBtn = document.getElementById("backFromLeaderboardBtn");
        const backFromCreditsBtn = document.getElementById("backFromCreditsBtn");

        const dice = document.getElementById("dice");
        const resultText = document.getElementById("result");
        const rollBtn = document.getElementById("rollBtn");
        const saveBtn = document.getElementById("saveBtn");
        const dialogueBox = document.getElementById("dialogue");
        const winsEl = document.getElementById("wins");
        const lossesEl = document.getElementById("losses");
        const streakEl = document.getElementById("streak");
        const streakInfo = document.getElementById("streakInfo");
        const leaderboardBody = document.getElementById("leaderboardBody");

        const rollSound = document.getElementById("rollSound");
        const winSound = document.getElementById("winSound");
        const lossSound = document.getElementById("lossSound");
        const clickSound = document.getElementById("clickSound");
        const bgMusic = document.getElementById("bgMusic");

        let currentUsername = "";
        let stats = {
            wins: 0,
            losses: 0,
            currentStreak: 0,
            maxStreak: 0,
            lastWon: false
        };

        let leaderboard = JSON.parse(localStorage.getItem("diceLeaderboard")) || [];

        const dialogues = {
            win: [
                "üåü LEGENDARY! You're on fire!",
                "‚ú® Absolutely CRUSHING it!",
                "üî• That's what champions do!",
                "‚ö° UNSTOPPABLE FORCE detected!",
                "üíé PRISTINE execution!",
                "üöÄ THROUGH THE ROOF!"
            ],
            loss: [
                "üò§ Better luck next time, warrior!",
                "üéØ Close one! Try again!",
                "üí™ Shake it off and retry!",
                "üåä Every master was once a beginner!",
                "üé™ The game is afoot!",
                "‚öîÔ∏è Your comeback awaits!"
            ],
            neutral: [
                "Ready to roll?",
                "Feeling lucky?",
                "Let's see what fate brings!",
                "The dice are waiting...",
                "Another spin coming?"
            ]
        };

        // Initialize background music
        bgMusic.volume = 0.3;
        bgMusic.play().catch(() => {});

        // Button Click Sounds
        function playClickSound() {
            clickSound.currentTime = 0;
            clickSound.play().catch(() => {});
        }

        // Show/Hide Views
        function showView(view) {
            menuView.style.display = "none";
            gameView.style.display = "none";
            leaderboardView.style.display = "none";
            creditsView.style.display = "none";
            view.style.display = "flex";
        }

        // Menu Events
        startBtn.addEventListener("click", () => {
    playClickSound();

    // Check if username input is empty
    if (!usernameInput.value.trim()) {
        alert("Please enter your Discord username!");
        return;
    }

    currentUsername = usernameInput.value.trim();

    // Save username to localStorage
    localStorage.setItem("diceUsername", currentUsername);

    loadPlayerStats();
    showView(gameView);
});


        leaderboardBtn.addEventListener("click", () => {
            playClickSound();
            renderLeaderboard();
            showView(leaderboardView);
        });

        creditsBtn.addEventListener("click", () => {
            playClickSound();
            showView(creditsView);
        });

        backFromLeaderboardBtn.addEventListener("click", () => {
            playClickSound();
            showView(menuView);
        });

        backFromCreditsBtn.addEventListener("click", () => {
            playClickSound();
            showView(menuView);
        });

        // Load player stats from leaderboard
        function loadPlayerStats() {
            const player = leaderboard.find(p => p.username === currentUsername);
            if (player) {
                stats = {
                    wins: player.wins,
                    losses: player.losses,
                    currentStreak: player.streak,
                    maxStreak: player.streak,
                    lastWon: false
                };
            } else {
                stats = {
                    wins: 0,
                    losses: 0,
                    currentStreak: 0,
                    maxStreak: 0,
                    lastWon: false
                };
            }
            updateStats();
            showDialogue(getRandomDialogue('neutral'));
        }

        // Save player stats
        function savePlayerStats() {
            playClickSound();
            const existingIndex = leaderboard.findIndex(p => p.username === currentUsername);
            const playerData = {
                username: currentUsername,
                wins: stats.wins,
                losses: stats.losses,
                streak: stats.maxStreak
            };

            if (existingIndex >= 0) {
                leaderboard[existingIndex] = playerData;
            } else {
                leaderboard.push(playerData);
            }

            leaderboard.sort((a, b) => b.wins - a.wins || b.streak - a.streak);
            leaderboard = leaderboard.slice(0, 10);

            localStorage.setItem("diceLeaderboard", JSON.stringify(leaderboard));
            showView(menuView);
        }

        // Render Leaderboard
        function renderLeaderboard() {
            leaderboardBody.innerHTML = "";
            const sorted = [...leaderboard].sort((a, b) => b.wins - a.wins || b.streak - a.streak);

            sorted.forEach((player, index) => {
                const rankEmoji = index === 0 ? "ü•á" : index === 1 ? "ü•à" : index === 2 ? "ü•â" : `#${index + 1}`;
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td><span class="rank">${rankEmoji}</span></td>
                    <td><strong>${player.username}</strong></td>
                    <td style="color: #00ff88;">‚≠ê ${player.wins}</td>
                    <td style="color: #ff4444;">‚ùå ${player.losses}</td>
                    <td style="color: #ffaa00;">üî• ${player.streak}</td>
                `;
                leaderboardBody.appendChild(row);
            });
        }

        // Game Functions
        function updateStats() {
            winsEl.textContent = stats.wins;
            lossesEl.textContent = stats.losses;
            streakEl.textContent = stats.maxStreak;
            updateStreakInfo();
        }

        function updateStreakInfo() {
            if (stats.currentStreak > 1) {
                streakInfo.style.display = 'block';
                const streakType = stats.lastWon ? '‚ú® WIN' : 'üí• LOSS';
                streakInfo.textContent = `üî• ${stats.currentStreak} ${streakType} STREAK üî•`;
            } else {
                streakInfo.style.display = 'none';
            }
        }

        function getRandomDialogue(type) {
            const arr = dialogues[type] || dialogues.neutral;
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function showDialogue(text) {
            dialogueBox.textContent = text;
            dialogueBox.style.animation = 'none';
            setTimeout(() => {
                dialogueBox.style.animation = 'dialogueSlide 0.5s ease-out';
            }, 10);
        }

        function createParticle(x, y, emoji) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.textContent = emoji;
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            particle.style.setProperty('--tx', (Math.random() - 0.5) * 100 + 'px');
            document.body.appendChild(particle);
            setTimeout(() => particle.remove(), 1000);
        }

        function showPopup(text) {
            const popup = document.createElement('div');
            popup.className = 'popup';
            popup.textContent = text;
            document.body.appendChild(popup);
            setTimeout(() => popup.remove(), 1500);
        }

        function playSoundEffect(sound) {
            sound.currentTime = 0;
            sound.play().catch(() => {});
        }

        // Roll Button
        rollBtn.addEventListener("click", () => {
            if (rollBtn.disabled) return;
            rollBtn.disabled = true;

            const roll = Math.floor(Math.random() * 6) + 1;

            playSoundEffect(rollSound);
            dice.classList.add("rolling");
            resultText.textContent = "Rolling...";

            setTimeout(() => {
                dice.classList.remove("rolling");
                dice.textContent = ['üé≤', 'üé≤', 'üé≤', 'üé≤', 'üé≤', 'üé≤'][roll - 1] || 'üé≤';

                const isWin = roll >= 4;
                const resultEmoji = isWin ? '‚≠ê' : '‚ùå';
                const resultColor = isWin ? 'lime' : 'red';

                if (isWin) {
                    stats.wins++;
                    if (stats.lastWon) {
                        stats.currentStreak++;
                    } else {
                        stats.currentStreak = 1;
                        stats.lastWon = true;
                    }
                    stats.maxStreak = Math.max(stats.maxStreak, stats.currentStreak);

                    resultText.textContent = `${resultEmoji} YOU WIN! (${roll}) ${resultEmoji}`;
                    playSoundEffect(winSound);
                    showDialogue(getRandomDialogue('win'));

                    for (let i = 0; i < 5; i++) {
                        setTimeout(() => {
                            createParticle(
                                Math.random() * window.innerWidth,
                                Math.random() * window.innerHeight,
                                ['‚≠ê', '‚ú®', 'üåü', 'üí´', 'üéâ'][i]
                            );
                        }, i * 50);
                    }

                    if (stats.currentStreak === 3) {
                        showPopup('üî• 3 WIN STREAK! üî•');
                    } else if (stats.currentStreak === 5) {
                        showPopup('‚ö° 5 WIN STREAK! LEGENDARY! ‚ö°');
                    }
                } else {
                    stats.losses++;
                    if (!stats.lastWon) {
                        stats.currentStreak++;
                    } else {
                        stats.currentStreak = 1;
                        stats.lastWon = false;
                    }

                    resultText.textContent = `${resultEmoji} YOU LOSE! (${roll}) ${resultEmoji}`;
                    playSoundEffect(lossSound);
                    showDialogue(getRandomDialogue('loss'));

                    for (let i = 0; i < 3; i++) {
                        setTimeout(() => {
                            createParticle(
                                Math.random() * window.innerWidth,
                                Math.random() * window.innerHeight,
                                'üí•'
                            );
                        }, i * 100);
                    }
                }

                resultText.style.color = resultColor;
                updateStats();
                rollBtn.disabled = false;
            }, 800);
        });

        // Save Button
        saveBtn.addEventListener("click", savePlayerStats);

        // Initial Setup
        usernameInput.focus();
        // Auto-load username if saved
        const savedUsername = localStorage.getItem("diceUsername");
        if (savedUsername) {
            currentUsername = savedUsername;
            usernameInput.value = savedUsername;
            usernameInput.style.display = "none"; // hide input since it's already set
            startBtn.click(); // auto-start the game
        }
    </script>
</body>
</html>